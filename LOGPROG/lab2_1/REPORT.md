# Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: ______

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

## Введение

Существует много разных методов решения логических задач.

Из самых известных можно выделить:

- Метод рассуждений;
- Метод таблиц;
- Метод графов;
- Метод блок-схем;
- Метод бильярда;
- Метод кругов Эйлера.

Пролог удобен для создания решателей задач потому что многие задачи могут быть решены полным перебором и фильтрацией вариантов не подходящих к условиям задачи. Кроме того эти условия-ограничения можно как предикаты Пролога.

## Задание

Вариант 2. В одном городе живут 7 любителей птиц. И фамилии у них птичьи. Каждый из них тезка птицы, которой владеет один из его товарищей. У троих из них живут птицы, которые темнее, чем пернатые "тезки"их хозяев. "Тезка" птицы, которая живет у Воронова, женат. Голубев и Канарейкин единственные холостяки из всей компании. Хозяин грача женат на сестре жены Чайкина. Невеста хозяина ворона очень не любит птицу, с которой возится ее жених. "Тезка" птицы, которая живет у Грачева, хозяин канарейки. Птица, которая является "тезкой" владельца попугая, принадлежит "тезке" той птицы, которой владеет Воронов. У голубя и попугая оперение светлое. Кому принадлежит скворец?

## Принцип решения

Создается список структур `o(X, Y)`, которые означают что у X живет птица Y. Всего их 7.
Последняя переменная в структуре у всех свободная. Далее каждой переменной ставится в сооответствие какая-то птица. После этого набор структур пытается пройти все условия, обозначенные далее. Если проходит, то есть ответ. Так просматриваются все возможные перестановки множества птиц до тех пор, пока не будет найдено решение.

```prolog
solve(L):-
%    список друзей-птичников
%    o(X, Y) означает, что у X живет птица Y
    L = [o(voronov, A), o(kanareykin, B), o(golubev, C), o(grachev, D),
        o(chaykin, E), o(skvorcov, F), o(popugaev, G)],
    birds(Birds),
%    Птицы с темным пером
    DarkBirds = [voron, grach, skvorec],
    permutation(Birds, [A, B, C, D, E, F, G]),
%    Каждый из них тезка птицы, которой владеет один из его товарищей
    A\=voron, B\=kanareyka, C\=golub, D\=grach, E\=chayka, F\=skvorec, G\=popugay,
%    У троих из них живут птицы, которые темнее, чем пернатые "тезки" их хозяев
	member(o(X, XX), L), tezka(X, TX), member(XX, DarkBirds),
    not(member(TX, DarkBirds)),
	member(o(Y, YY), L), tezka(Y, TY), member(YY, DarkBirds),
    not(member(TY, DarkBirds)),
	member(o(Z, ZZ), L), tezka(Z, TZ), member(ZZ, DarkBirds),
    not(member(TZ, DarkBirds)),
    XX\=YY, YY\=ZZ, XX\=ZZ,
%    Голубев и Канарейкин единственные холостяки из всей компании
    Bachelors = [kanareykin, golubev],
%    "Тезка" птицы, которая живет у Воронова, женат
    member(o(voronov, QQ), L), tezka(Q, QQ), not(member(Q, Bachelors)),
%    Хозяин грача женат на сестре жены Чайкина.
    member(o(V, grach), L), V\=chaykin,
%    Невеста хозяина ворона очень не любит птицу, с которой возится ее жених
    member(o(W, voron), L), member(W, Bachelors),
%    "Тезка" птицы, которая живет у Грачева, хозяин канарейки
    member(o(grachev, UU), L), tezka(U, UU), member(o(U, kanareyka), L),
%    Птица, которая является "тезкой" владельца попугая, принадлежит "тезке"
%    той птицы, которой владеет Воронов
    member(o(R, popugay), L), tezka(R, RR), member(o(voronov, TT), L),
    tezka(T, TT), member(o(T, RR), L).
```

Таким образом находятся все пары владелец-питомец.

Ответ на вопрос задачи может быть получен так:

```prolog
    ?-who(X).
```

Ответом на вопрос является Чайкин. У него живет скворец.

## Выводы

Многие задачи могут быть решены полным перебором и фильтрацией вариантов не подходящих к условиям задачи. Ограничивающие условия с легкостью описываются на прологе, если удалось удачно выбрать представление данных.

Во время работы над этой лабораторной работой были получены знания и навыки в решении логических задач на языке Пролог.
В результате создана программа решающая конкретную задачу полностью и однозначно.
